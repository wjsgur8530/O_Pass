{% extends "base.html" %} {% block title %}Sample{% endblock %} 
{% block content %}
<html>
    <body>
        <div class="container-fluid">
            <div class="card o-hidden border-0 shadow-lg my-5">
                <div class="card-body p-10">
                    <div style="margin: auto auto;">
                        <h3 class="p-3"><b><img class="img-profile rounded-circle" src="static/img/CJ_logo.svg.png" style="width:70px; height: 70px;"> 송도 IDC 출입 관리 시스템 - [현장 등록]</b></h3>
                        <h4 class="p-3"><b><i class="fas fa-check fa-sm text-success"></i> CJ 송도 IDC에 방문하신 것을 진심으로 환영합니다.</b></h4>
                    </div>
                    <table class="table">
                    <form action="" method="POST">
                        <thead>
                        <tr>
                            <th scope="col" colspan="3">다음 항목에 대해 입력해주시기 바랍니다.</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row" colspan="2">1. 이름을 입력해주세요.</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorName" id="visitorName" placeholder="이름을 입력해주세요."></td>
                        </tr>
                        <tr>
                            <th scope="row" colspan="2">2. 소속을 입력해주세요.</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorDepartment" id="visitorDepartment" placeholder="소속을 입력해주세요."></td>
                        </tr>
                        <tr>
                            <th scope="row" colspan="2">3. 전화번호를 입력해주세요.</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorPhone" id="visitorPhone" placeholder="(-)를 빼고 입력해주세요."></td>
                        </tr>
                        <tr>
                            <th scope="row" colspan="2">4. 이메일 주소를 입력해주세요. (선택)</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorEmail" id="visitorEmail" placeholder="이메일 주소를 입력해주세요."></td>
                        </tr>
                        <!-- <tr>
                            <th scope="row" colspan="2">5. 생년월일을 입력해주세요.</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorBirth" id="visitorBirth" placeholder="생년월일을 입력해주세요."></td>
                        </tr> -->
                        <tr>
                            <th scope="row" colspan="2">5. 담당자를 입력해주세요.</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorManager" id="visitorManager" placeholder="담당자를 입력해주세요."></td>
                        </tr>
                        <tr>
                            <th scope="row" colspan="2" style="line-height: 50px;">6. 장비 반입 여부</th>
                            <td>
                                <select class="form-select col-xl-6" name="visitorDevice" id="visitorDevice">
                                    <option value="미반입">미반입</option>
                                    <option value="반입">반입</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="visitorDeviceDiv">
                            <th scope="row" colspan="2">6-1. 반입 장비(etc. 노트북, USB)</th>
                            <td><input type="text" class="form-control col-xl-6" name="visitorRemarks" id="visitorRemarks" placeholder="반입 장비(etc. 노트북, USB)"></td>
                        </tr>
                        <tr>
                            <th scope="row" colspan="2">7. 방문 목적을 입력해주세요.</th>
                            <td>
                                <select class="form-select col-xl-6" name="visitorObject" id="visitorObject">
                                  <option value="업무 협의">업무 협의</option>
                                  <option value="업무 요청">업무 요청</option>
                                  <option value="작업">작업</option>
                                  <option value="단순 방문">단순 방문</option>
                                  <option value="단순 방문">단순 방문</option>
                                  <option value="기타">기타</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="visitorLocationDiv">
                            <th scope="row" colspan="2">7-1. 작업 위치</th>
                            <td><input type="text" class="form-control col-xl-6" placeholder="etc. 3층 전산실" name="visitorLocation" id="visitorLocation"></td>
                        </tr>
                        <tr id="visitorLocationDiv2">
                            <th scope="row" colspan="2">7-2. 세부 작업 위치 </th>
                            <td><input type="text" class="form-control col-xl-6" placeholder="etc. 랙 A-11" name="visitorDetailLocation" id="visitorDetailLocation"></td>
                        </tr>
                        <tr id="visitorLocationDiv3">
                            <th scope="row" colspan="2">7-3. 작업 내용 </th>
                            <td><input type="text" class="form-control col-xl-6" placeholder="etc. 서버 유지보수" name="visitorWorkContent" id="visitorWorkContent"></td>
                        </tr>
                        <tr id="visitorLocationDiv4">
                            <th scope="row" colspan="2">7-4. 작업 요청 회사 </th>
                            <td><input type="text" class="form-control col-xl-6" placeholder="etc. CJ 올리브네트웍스" name="visitorCompanyName" id="visitorCompanyName"></td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="mt-4 mb-4" style="text-align: right;">
                        <button class="btn btn-primary btn-lg form-control" type="submit" id="confirm_btn">입력</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>
<script>
    $(document).ready(function() {
        // 페이지 로드 시 "입력" 버튼을 숨김
        $('#visitorDeviceDiv').hide();
        $('#visitorLocationDiv').hide();
        $('#visitorLocationDiv2').hide();
        $('#visitorLocationDiv3').hide();
        $('#visitorLocationDiv4').hide();
    });
</script>

<script>
    $(document).ready(function() {
        // 장비 반입 여부 변경 시 반입 장비 입력란 표시 여부 설정
        $('#visitorDevice').change(function() {
            if ($(this).val() === '반입') {
                $('#visitorDeviceDiv').show();
            } else {
                $('#visitorDeviceDiv').hide();
            }
        });
    });
</script>

<script>
    $(document).ready(function() {
        // 방문 목적 변경 시 작업 장소 입력란 표시 여부 설정
        $('#visitorObject').change(function() {
            if ($(this).val() === '작업') {
                $('#visitorLocationDiv').show();
                $('#visitorLocationDiv2').show();
                $('#visitorLocationDiv3').show();
                $('#visitorLocationDiv4').show();
            } else {
                $('#visitorLocationDiv').hide();
                $('#visitorLocationDiv2').hide();
                $('#visitorLocationDiv3').hide();
                $('#visitorLocationDiv4').hide();
            }
        });
    });
</script>

<script>
    $(document).ready(function() {
        $('#confirm_btn').hide();
        // 필수 입력 필드 모두 채워지면 입력 버튼 표시
        $('input[name="visitorName"], input[name="visitorDepartment"], input[name="visitorPhone"], input[name="visitorManager"], select[name="visitorDevice"], select[name="visitorObject"]').on('input change', function() {
            var name = $('#visitorName').val();
            var department = $('#visitorDepartment').val();
            var phone = $('#visitorPhone').val();
            var manager = $('#visitorManager').val();
            var device = $('#visitorDevice').val();
            var object = $('#visitorObject').val();
    
            if (name !== '' && department !== '' && phone !== '' && manager !== '' && device !== '' && object !== '') {
                $('#confirm_btn').show();
            } else {
                $('#confirm_btn').hide();
            }
        });
    });
</script>
{% endblock %}
